export EDITOR='vim'
export GIT_EDITOR='vim'
export PATH=/usr/local/bin:$HOME/local/node/bin:$PATH
export TODOTXT_DEFAULT_ACTION=ls

source ~/.aliases
[[ -s $HOME/.environment ]] && source $HOME/.environment
source ~/.git-completion
source ~/.hub-completion

HISTCONTROL=ignoredups:erasedups  # don't keep duplicate history entries
HISTSIZE=10000                    # larger history
HISTFILESIZE=$HISTSIZE            # larger history file
shopt -s histreedit # re-edit history substitution line on failure
shopt -s histverify # edit a recalled history before executing
# append to history, clear history, load history from file, prompt
export PROMPT_COMMAND="history -a; history -c; history -r; $PROMPT_COMMAND"

function git_branch {
 git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e "s/* \(.*\)/[\1]/"
}
function git_dirty {
  if [[ $(git status 2> /dev/null | grep '(use "git') ]]; then
    echo "☠"
  else
    echo "⌘"
  fi
}
export PS1='\h  \w$(git_branch)  $(git_dirty)  '

[[ -s $HOME/.rvm/scripts/rvm ]] && source $HOME/.rvm/scripts/rvm

PATH=$PATH:$HOME/.bin:$HOME/.rvm/bin # Add RVM to PATH for scripting
